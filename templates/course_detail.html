{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">{{ course.title }}</h1>
<p>{{ course.description }}</p>
<h2 class="mt-4 mb-3">Lessons</h2>
{% if course.lessons %}
    <ul class="list-group">
    {% for lesson in course.lessons %}
        <li class="list-group-item">
            <h5>{{ lesson.title }}</h5>
            <p>{{ lesson.content[:100] }}...</p>
            {% if lesson.quiz %}
                <a href="{{ url_for('take_quiz', quiz_id=lesson.quiz.id) }}" class="btn btn-primary btn-sm">Take Quiz</a>
            {% endif %}
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>No lessons available for this course yet.</p>
{% endif %}

{% if current_user.is_authenticated and current_user == course.teacher %}
    <div class="mt-4">
        <a href="{{ url_for('create_lesson', course_id=course.id) }}" class="btn btn-success">Add Lesson</a>
    </div>
{% endif %}
{% endblock %}
