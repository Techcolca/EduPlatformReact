{% extends "base.html" %}

{% block title %}{{ lesson.title }} - Educational Platform{% endblock %}

{% block content %}
    <h1>{{ lesson.title }}</h1>
    <p><strong>Course:</strong> <a href="{{ url_for('course_details', course_id=course.id) }}">{{ course.title }}</a></p>
    <p><strong>Order:</strong> {{ lesson.order }}</p>
    <div class="lesson-content">
        {{ lesson.content | safe }}
    </div>
    
    {% if current_user.is_authenticated and (current_user.id == course.instructor_id or current_user.is_admin) %}
        <a href="{{ url_for('edit_lesson', course_id=course.id, lesson_id=lesson.id) }}" class="btn btn-primary">Edit Lesson</a>
        <form action="{{ url_for('delete_lesson', course_id=course.id, lesson_id=lesson.id) }}" method="POST" style="display: inline;">
            <input type="submit" value="Delete Lesson" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this lesson?');">
        </form>
    {% endif %}
    
    <a href="{{ url_for('course_details', course_id=course.id) }}" class="btn btn-secondary">Back to Course</a>
{% endblock %}
